# slimejs
Port of Slime Volleyball/Tennis/Cricket/Basketball to html5/javascript.

#[Play it here](https://mmkal.github.io/slimejs/)
#[![Yes, play it there.](http://i.imgur.com/ThHVJgb.png)](https://mmkal.github.io/slimejs/)


## What

Allows you to play the original "Slime" games as found on http://slimegames.eu/, http://slimetennis.com and other similar sites, without having to run Java in your browser.

## How 

The `.class` and `.jar` files are still being served on the original sites, and were decompiled into Java. 

The java files were then transpiled using [jsweet](http://www.jsweet.org/), after a lot of pre-processing, shimming and horrible regexes. They get transpiled to TypeScript, and I wrote TypeScript versions of all the Java dependencies that the games have (Applet, Image, System, etc.). I made _a lot_ of assumptions about the transpiler, and the original source code. It probably wouldn't immediately work for many other Applets. In general, the games work by just using Java's Thread.sleep all over the place. I shimmed this with a Promise wrapper for setTimeout, and made every method that called it async, and every method that called those methods, etc.

## Why

I don't know.

## Go on

Tennis and volleyball were a lot more complicated to port than soccer or cricket. The code on [slimetennis.com](http://slimetennis.com) seems to have been through several stages of compilation/decompilation. This is one (or two) more I suppose.

The transformations I'm doing on both the Java and the TypeScript are very basic, and they got tripped up easily by the method names in the original tennis code - almost all methods were an overloaded method called "a". TypeScript doesn't deal with overloading well at the best of times, and auto-generated TypeScript with RegEx-based async/await hacking is even worse.

So the reason for the bizarre class/method names is that I used a Java IDE to rename all the overloaded single-letter methods to names generated by [a node name generator called `sillyname`](https://www.npmjs.com/package/sillyname). This also made it easier to debug; searching through 3,000 lines of Java where everything is called "a" is not fun.

Apart from those renames, the source code is unmodified from the compiled java found on the original sites.
